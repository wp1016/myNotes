{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{211:function(t,s,a){\"use strict\";a.r(s);var r=a(0),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"workbox中文文档\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#workbox中文文档\"}},[t._v(\"#\")]),t._v(\" workbox中文文档\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"开始\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#开始\"}},[t._v(\"#\")]),t._v(\" 开始\")]),t._v(\" \"),a(\"p\",[t._v(\"本指南将向您展示如何启动和运行Workbox以路由网页的常见请求，并演示如何使用通用策略进行缓存。\")]),t._v(\" \"),a(\"p\",[t._v(\"由于大多数网站都包含CSS,JavaScript和图片,让我们看看如何使用service worker 和 workbox 来缓存和服务这些文件\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"创建和注册一个serviceworker-文件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#创建和注册一个serviceworker-文件\"}},[t._v(\"#\")]),t._v(\" 创建和注册一个serviceworker 文件\")]),t._v(\" \"),a(\"p\",[t._v(\"在我们使用workbox之前，我们需要创建一个service worker 文件并注册到我们的网站\")]),t._v(\" \"),a(\"p\",[t._v(\"首先在网站根目录下创建一个service-worker.js文件,然后添加一个console.log ，这样我们就能看到他的加载\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"div\",{staticClass:\"highlight-lines\"},[a(\"br\"),a(\"br\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"console\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'Hello from service-worker.js'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"如下所示在您的网页上注册 service worker文件\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"div\",{staticClass:\"highlight-lines\"},[a(\"br\"),a(\"br\"),a(\"br\"),a(\"div\",{staticClass:\"highlighted\"},[t._v(\" \")]),a(\"br\"),a(\"br\"),a(\"br\"),a(\"br\"),a(\"br\"),a(\"br\")]),a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"script\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// Check that service workers are registered\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'serviceWorker'\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"in\")]),t._v(\" navigator\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// Use the window load event to keep the page load performant\")]),t._v(\"\\n  window\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"addEventListener\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'load'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    navigator\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"serviceWorker\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"register\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'/service-worker.js'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"script\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"用于告诉浏览器将其当做 service-worker文件来使用\")]),t._v(\" \"),a(\"p\",[t._v(\"如果你刷新页面，你会看到 service-worker文件下输出的日志\")]),t._v(\" \"),a(\"p\",[t._v(\"在chrome浏览器开发者工具中的 Application 选项里，你能看到service worker 已注册\")]),t._v(\" \"),a(\"p\",[a(\"strong\",[t._v(\"勾选 Update on reload 选项\")])])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}